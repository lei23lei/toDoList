{"ast":null,"code":"var _jsxFileName = \"/Users/peter/Desktop/toDoList/src/components/list/List.jsx\";\nimport React, { Component } from 'react';\nimport Item from '../item/Item';\nimport PubSub from 'pubsub-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class List extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      list: [{\n        id: 1,\n        name: \"running\",\n        done: false\n      }, {\n        id: 2,\n        name: \"sleeping\",\n        done: true\n      }, {\n        id: 3,\n        name: \"eating\",\n        done: false\n      }, {\n        id: 4,\n        name: \"shopping\",\n        done: true\n      }]\n    };\n    //UPDATE CHECK STATE FROM ITEM\n    this.updateState = (id, state) => {\n      const {\n        list\n      } = this.state;\n      const newList = list.map(e => {\n        if (e.id === id) return {\n          ...e,\n          done: state\n        };else return e;\n      });\n      this.setState({\n        list: newList\n      });\n      PubSub.publish('footer', newList);\n    };\n    //DELETE FROM ITEM\n    this.deleteItem = id => {\n      const {\n        list\n      } = this.state;\n      const newList = list.filter(e => {\n        return e.id != id;\n      });\n      this.setState({\n        list: newList\n      });\n      PubSub.publish('footer', newList);\n    };\n  }\n  componentDidMount() {\n    this.deleteAllDone = PubSub.subscribe('deleteAllDone', (msg, data) => {\n      const {\n        list\n      } = this.state;\n      const newList = list.filter(e => {\n        return e.done === false;\n      });\n      this.setState({\n        list: newList\n      });\n      PubSub.publish('footer', newList);\n    });\n    this.allDone = PubSub.subscribe('allDone', (msg, data) => {\n      const {\n        list\n      } = this.state;\n      const newList = list.map(e => {\n        return {\n          ...e,\n          done: data\n        };\n      });\n      this.setState({\n        list: newList\n      });\n      PubSub.publish('footer', newList);\n    });\n    this.token = PubSub.subscribe('msg', (msg, data) => {\n      const {\n        list\n      } = this.state;\n      const newList = [data, ...list];\n      this.setState({\n        list: newList\n      });\n      PubSub.publish('footer', newList);\n    });\n    PubSub.publish('footer', this.state.list);\n  }\n  componentWillUnmount() {\n    PubSub.unsubscribe(this.token);\n    PubSub.unsubscribe(this.allDone);\n    PubSub.unsubscribe(this.deleteAllDone);\n  }\n  render() {\n    const {\n      list\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group\",\n        children: list.map(e => {\n          return /*#__PURE__*/_jsxDEV(Item, {\n            ...e,\n            updateState: this.updateState,\n            deleteItem: this.deleteItem\n          }, e.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 28\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","Item","PubSub","jsxDEV","_jsxDEV","List","constructor","args","state","list","id","name","done","updateState","newList","map","e","setState","publish","deleteItem","filter","componentDidMount","deleteAllDone","subscribe","msg","data","allDone","token","componentWillUnmount","unsubscribe","render","children","className","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/peter/Desktop/toDoList/src/components/list/List.jsx"],"sourcesContent":["import React, { Component } from 'react'\nimport Item from '../item/Item'\nimport PubSub from 'pubsub-js';\nexport default class List extends Component {\n    state={list:[\n        {id:1,name:\"running\",done:false},\n        {id:2,name:\"sleeping\",done:true},\n        {id:3,name:\"eating\",done:false},\n        {id:4,name:\"shopping\",done:true}\n    ]}\n    componentDidMount(){\n        this.deleteAllDone=PubSub.subscribe('deleteAllDone',(msg,data)=>{\n            const {list} = this.state;\n            const newList = list.filter((e)=>{\n                return e.done === false;\n            })\n            this.setState({list:newList})\n            PubSub.publish('footer',newList)\n        })\n        this.allDone=PubSub.subscribe('allDone',(msg,data)=>{\n            const {list} = this.state;\n            const newList = list.map(e=>{\n                return {...e,done:data}\n            })\n            this.setState({list:newList})\n            PubSub.publish('footer',newList)\n        })\n        this.token=PubSub.subscribe('msg',(msg,data)=>{\n            const {list} = this.state;\n            const newList = [data,...list];\n            this.setState({list:newList});\n            PubSub.publish('footer',newList)\n        });\n        PubSub.publish('footer',this.state.list);  \n    }\n    componentWillUnmount(){\n        PubSub.unsubscribe(this.token);\n        PubSub.unsubscribe(this.allDone);\n        PubSub.unsubscribe(this.deleteAllDone);\n    }\n    //UPDATE CHECK STATE FROM ITEM\n    updateState=(id,state)=>{\n        const {list} = this.state;\n        const newList = list.map((e)=>{\n            if(e.id===id) return {...e,done:state}\n            else return e;\n        })\n        this.setState({list:newList})\n        PubSub.publish('footer',newList)\n    }\n    //DELETE FROM ITEM\n    deleteItem=(id)=>{\n        const {list} = this.state;\n        const newList = list.filter((e)=>{\n            return e.id != id\n        })\n        this.setState({list:newList})\n        PubSub.publish('footer',newList)\n    }\n  render() {\n    const {list} = this.state;\n    return (\n        <main>\n            <ul className=\"list-group\">\n                {\n                   list.map((e)=>{\n                    return <Item key={e.id} {...e} updateState={this.updateState} deleteItem={this.deleteItem}/>\n                   }) \n                }\n            </ul>\n        </main>\n    )\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}