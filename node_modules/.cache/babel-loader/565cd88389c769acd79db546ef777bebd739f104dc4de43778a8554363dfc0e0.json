{"ast":null,"code":"import React,{Component}from'react';import Item from'../item/Item';import PubSub from'pubsub-js';import{jsx as _jsx}from\"react/jsx-runtime\";export default class List extends Component{constructor(){super(...arguments);this.state={list:[{id:1,name:\"running\",done:false},{id:2,name:\"sleeping\",done:true},{id:3,name:\"eating\",done:false},{id:4,name:\"shopping\",done:true}]};//UPDATE CHECK STATE FROM ITEM\nthis.updateState=(id,state)=>{const{list}=this.state;const newList=list.map(e=>{if(e.id===id)return{...e,done:state};else return e;});this.setState({list:newList});PubSub.publish('footer',newList);};//DELETE FROM ITEM\nthis.deleteItem=id=>{const{list}=this.state;const newList=list.filter(e=>{return e.id!=id;});this.setState({list:newList});PubSub.publish('footer',newList);};}componentDidMount(){this.deleteAllDone=PubSub.subscribe('deleteAllDone',(msg,data)=>{const{list}=this.state;const newList=list.filter(e=>{return e.done===false;});this.setState({list:newList});PubSub.publish('footer',newList);});this.allDone=PubSub.subscribe('allDone',(msg,data)=>{const{list}=this.state;const newList=list.map(e=>{return{...e,done:data};});this.setState({list:newList});PubSub.publish('footer',newList);});this.token=PubSub.subscribe('msg',(msg,data)=>{const{list}=this.state;const newList=[data,...list];this.setState({list:newList});PubSub.publish('footer',newList);});PubSub.publish('footer',this.state.list);}componentWillUnmount(){PubSub.unsubscribe(this.token);PubSub.unsubscribe(this.allDone);PubSub.unsubscribe(this.deleteAllDone);}render(){const{list}=this.state;return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:list.map(e=>{return/*#__PURE__*/_jsx(Item,{...e,updateState:this.updateState,deleteItem:this.deleteItem},e.id);})})});}}","map":{"version":3,"names":["React","Component","Item","PubSub","jsx","_jsx","List","constructor","arguments","state","list","id","name","done","updateState","newList","map","e","setState","publish","deleteItem","filter","componentDidMount","deleteAllDone","subscribe","msg","data","allDone","token","componentWillUnmount","unsubscribe","render","children","className"],"sources":["/Users/peter/Desktop/toDoList/src/components/list/List.jsx"],"sourcesContent":["import React, { Component } from 'react'\nimport Item from '../item/Item'\nimport PubSub from 'pubsub-js';\nexport default class List extends Component {\n    state={list:[\n        {id:1,name:\"running\",done:false},\n        {id:2,name:\"sleeping\",done:true},\n        {id:3,name:\"eating\",done:false},\n        {id:4,name:\"shopping\",done:true}\n    ]}\n    componentDidMount(){\n        this.deleteAllDone=PubSub.subscribe('deleteAllDone',(msg,data)=>{\n            const {list} = this.state;\n            const newList = list.filter((e)=>{\n                return e.done === false;\n            })\n            this.setState({list:newList})\n            PubSub.publish('footer',newList)\n        })\n        this.allDone=PubSub.subscribe('allDone',(msg,data)=>{\n            const {list} = this.state;\n            const newList = list.map(e=>{\n                return {...e,done:data}\n            })\n            this.setState({list:newList})\n            PubSub.publish('footer',newList)\n        })\n        this.token=PubSub.subscribe('msg',(msg,data)=>{\n            const {list} = this.state;\n            const newList = [data,...list];\n            this.setState({list:newList});\n            PubSub.publish('footer',newList)\n        });\n        PubSub.publish('footer',this.state.list);  \n    }\n    componentWillUnmount(){\n        PubSub.unsubscribe(this.token);\n        PubSub.unsubscribe(this.allDone);\n        PubSub.unsubscribe(this.deleteAllDone);\n    }\n    //UPDATE CHECK STATE FROM ITEM\n    updateState=(id,state)=>{\n        const {list} = this.state;\n        const newList = list.map((e)=>{\n            if(e.id===id) return {...e,done:state}\n            else return e;\n        })\n        this.setState({list:newList})\n        PubSub.publish('footer',newList)\n    }\n    //DELETE FROM ITEM\n    deleteItem=(id)=>{\n        const {list} = this.state;\n        const newList = list.filter((e)=>{\n            return e.id != id\n        })\n        this.setState({list:newList})\n        PubSub.publish('footer',newList)\n    }\n  render() {\n    const {list} = this.state;\n    return (\n        <main>\n            <ul className=\"list-group\">\n                {\n                   list.map((e)=>{\n                    return <Item key={e.id} {...e} updateState={this.updateState} deleteItem={this.deleteItem}/>\n                   }) \n                }\n            </ul>\n        </main>\n    )\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}